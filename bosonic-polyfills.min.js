window.Platform||(window.Platform={});var logFlags={};!function(){function e(e){if(this._element=e,e.className!=this._classCache){if(this._classCache=e.className,!this._classCache)return;var t,o=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(t=0;t<o.length;t++)a.call(this,o[t])}}function t(e,t){e.className=t.join(" ")}function o(e,t,o){Object.defineProperty?Object.defineProperty(e,t,{get:o}):e.__defineGetter__(t,o)}if(!("undefined"==typeof window.Element||"classList"in document.documentElement)){var n=Array.prototype,r=n.indexOf,i=n.slice,a=n.push,s=n.splice,d=n.join;e.prototype={add:function(e){this.contains(e)||(a.call(this,e),t(this._element,i.call(this,0)))},contains:function(e){return-1!==r.call(this,e)},item:function(e){return this[e]||null},remove:function(e){var o=r.call(this,e);-1!==o&&(s.call(this,o,1),t(this._element,i.call(this,0)))},toString:function(){return d.call(this," ")},toggle:function(e){-1===r.call(this,e)?this.add(e):this.remove(e)}},window.DOMTokenList=e,o(Element.prototype,"classList",function(){return new e(this)})}}(),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}e.prototype=window.CustomEvent.prototype,window.CustomEvent=e}(),"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty,t=Date.now()%1e9,o=function(){this.name="__st"+(1e9*Math.random()>>>0)+(t++ +"__")};o.prototype={set:function(t,o){var n=t[this.name];n&&n[0]===t?n[1]=o:e(t,this.name,{value:[t,o],writable:!0})},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){this.set(e,void 0)}},window.WeakMap=o}(),function(e){function t(e){w.push(e),_||(_=!0,v(n))}function o(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function n(){_=!1;var e=w;w=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var o=e.takeRecords();r(e),o.length&&(e.callback_(o,e),t=!0)}),t&&n()}function r(e){e.nodes_.forEach(function(t){var o=p.get(t);o&&o.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function i(e,t){for(var o=e;o;o=o.parentNode){var n=p.get(o);if(n)for(var r=0;r<n.length;r++){var i=n[r],a=i.options;if(o===e||a.subtree){var s=t(a);s&&i.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++E}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function d(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function u(e,t){return N=new s(e,t)}function l(e){return y?y:(y=d(N),y.oldValue=e,y)}function c(){N=y=void 0}function h(e){return e===y||e===N}function f(e,t){return e===t?e:y&&h(e)?y:null}function m(e,t,o){this.observer=e,this.target=t,this.options=o,this.transientObservedNodes=[]}var p=new WeakMap,v=window.msSetImmediate;if(!v){var g=[],b=String(Math.random());window.addEventListener("message",function(e){if(e.data===b){var t=g;g=[],t.forEach(function(e){e()})}}),v=function(e){g.push(e),window.postMessage(b,"*")}}var _=!1,w=[],E=0;a.prototype={observe:function(e,t){if(e=o(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n=p.get(e);n||p.set(e,n=[]);for(var r,i=0;i<n.length;i++)if(n[i].observer===this){r=n[i],r.removeListeners(),r.options=t;break}r||(r=new m(this,e,t),n.push(r),this.nodes_.push(e)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=p.get(e),o=0;o<t.length;o++){var n=t[o];if(n.observer===this){n.removeListeners(),t.splice(o,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var N,y;m.prototype={enqueue:function(e){var o=this.observer.records_,n=o.length;if(o.length>0){var r=o[n-1],i=f(r,e);if(i)return void(o[n-1]=i)}else t(this.observer);o[n]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=p.get(e);t||p.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=p.get(e),o=0;o<t.length;o++)if(t[o]===this){t.splice(o,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,o=e.relatedNode.namespaceURI,n=e.target,r=new u("attributes",n);r.attributeName=t,r.attributeNamespace=o;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;i(n,function(e){return!e.attributes||e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(t)&&-1===e.attributeFilter.indexOf(o)?void 0:e.attributeOldValue?l(a):r});break;case"DOMCharacterDataModified":var n=e.target,r=u("characterData",n),a=e.prevValue;i(n,function(e){return e.characterData?e.characterDataOldValue?l(a):r:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,d,n=e.relatedNode,h=e.target;"DOMNodeInserted"===e.type?(s=[h],d=[]):(s=[],d=[h]);var f=h.previousSibling,m=h.nextSibling,r=u("childList",n);r.addedNodes=s,r.removedNodes=d,r.previousSibling=f,r.nextSibling=m,i(n,function(e){return e.childList?r:void 0})}c()}},e.JsMutationObserver=a,e.MutationObserver||(e.MutationObserver=a)}(this),function(e){function t(t,i){var a=i||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(h(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");if(!a.prototype)throw new Error("Options missing required prototype property");return a.__name=t.toLowerCase(),a.lifecycle=a.lifecycle||{},a.ancestry=o(a["extends"]),n(a),r(a),l(a.prototype),f(a.__name,a),a.ctor=m(a),a.ctor.prototype=a.prototype,a.prototype.constructor=a.ctor,e.ready&&e.upgradeDocumentTree(document),a.ctor}function o(e){var t=h(e);return t?o(t["extends"]).concat([t]):[]}function n(e){for(var t,o=e["extends"],n=0;t=e.ancestry[n];n++)o=t.is&&t.tag;e.tag=o||e.__name,o&&(e.is=e.__name)}function r(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var o=document.createElement(e.tag);t=Object.getPrototypeOf(o)}for(var n,r=e.prototype;r&&r!==t;){var n=Object.getPrototypeOf(r);r.__proto__=n,r=n}}e["native"]=t}function i(e){return a(y(e.tag),e)}function a(t,o){return o.is&&t.setAttribute("is",o.is),t.removeAttribute("unresolved"),s(t,o),t.__upgraded__=!0,u(t),e.insertedNode(t),e.upgradeSubtree(t),t}function s(e,t){Object.__proto__?e.__proto__=t.prototype:(d(e,t.prototype,t["native"]),e.__proto__=t.prototype)}function d(e,t,o){for(var n={},r=t;r!==o&&r!==HTMLElement.prototype;){for(var i,a=Object.getOwnPropertyNames(r),s=0;i=a[s];s++)n[i]||(Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i)),n[i]=1);r=Object.getPrototypeOf(r)}}function u(e){e.createdCallback&&e.createdCallback()}function l(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,o){c.call(this,e,o,t)};var o=e.removeAttribute;e.removeAttribute=function(e){c.call(this,e,null,o)},e.setAttribute._polyfilled=!0}}function c(e,t,o){var n=this.getAttribute(e);o.apply(this,arguments);var r=this.getAttribute(e);this.attributeChangedCallback&&r!==n&&this.attributeChangedCallback(e,n,r)}function h(e){return e?N[e.toLowerCase()]:void 0}function f(e,t){N[e]=t}function m(e){return function(){return i(e)}}function p(e,t){var o=h(t||e);if(o){if(e==o.tag&&t==o.is)return new o.ctor;if(!t&&!o.is)return new o.ctor}if(t){var n=p(e);return n.setAttribute("is",t),n}var n=y(e);return e.indexOf("-")>=0&&s(n,HTMLElement),n}function v(e){if(!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var t=e.getAttribute("is"),o=h(t||e.localName);if(o){if(t&&o.tag==e.localName)return a(e,o);if(!t&&!o["extends"])return a(e,o)}}}function g(t){var o=L.call(this,t);return e.upgradeAll(o),o}e||(e=window.CustomElements={flags:{}});var b=e.flags,_=Boolean(document.registerElement),w=!b.register&&_&&!window.ShadowDOMPolyfill;if(w){var E=function(){};e.registry={},e.upgradeElement=E,e.watchShadow=E,e.upgrade=E,e.upgradeAll=E,e.upgradeSubtree=E,e.observeDocument=E,e.upgradeDocument=E,e.upgradeDocumentTree=E,e.takeRecords=E}else{var N={},y=document.createElement.bind(document),L=Node.prototype.cloneNode;document.registerElement=t,document.createElement=p,Node.prototype.cloneNode=g,e.registry=N,e.upgrade=v}document.register=document.registerElement,e.hasNative=_,e.useNative=w}(window.CustomElements),function(e){function t(e,o,n){var r=e.firstElementChild;if(!r)for(r=e.firstChild;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.nextSibling;for(;r;)o(r,n)!==!0&&t(r,o,n),r=r.nextElementSibling;return null}function o(e,t){for(var o=e.shadowRoot;o;)n(o,t),o=o.olderShadowRoot}function n(e,n){t(e,function(e){return n(e)?!0:void o(e,n)}),o(e,n)}function r(e){return s(e)?(d(e),!0):void c(e)}function i(e){n(e,function(e){return r(e)?!0:void 0})}function a(e){return r(e)||i(e)}function s(t){if(!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var o=t.getAttribute("is")||t.localName,n=e.registry[o];if(n)return M.dom&&console.group("upgrade:",t.localName),e.upgrade(t),M.dom&&console.groupEnd(),!0}}function d(e){c(e),g(e)&&n(e,function(e){c(e)})}function u(e){if(T.push(e),!S){S=!0;var t=window.Platform&&window.Platform.endOfMicrotask||setTimeout;t(l)}}function l(){S=!1;for(var e,t=T,o=0,n=t.length;n>o&&(e=t[o]);o++)e();T=[]}function c(e){D?u(function(){h(e)}):h(e)}function h(e){(e.attachedCallback||e.detachedCallback||e.__upgraded__&&M.dom)&&(M.dom&&console.group("inserted:",e.localName),g(e)&&(e.__inserted=(e.__inserted||0)+1,e.__inserted<1&&(e.__inserted=1),e.__inserted>1?M.dom&&console.warn("inserted:",e.localName,"insert/remove count:",e.__inserted):e.attachedCallback&&(M.dom&&console.log("inserted:",e.localName),e.attachedCallback())),M.dom&&console.groupEnd())}function f(e){m(e),n(e,function(e){m(e)})}function m(e){D?u(function(){p(e)}):p(e)}function p(e){(e.attachedCallback||e.detachedCallback||e.__upgraded__&&M.dom)&&(M.dom&&console.group("removed:",e.localName),g(e)||(e.__inserted=(e.__inserted||0)-1,e.__inserted>0&&(e.__inserted=0),e.__inserted<0?M.dom&&console.warn("removed:",e.localName,"insert/remove count:",e.__inserted):e.detachedCallback&&e.detachedCallback()),M.dom&&console.groupEnd())}function v(e){return window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrapIfNeeded(e):e}function g(e){for(var t=e,o=v(document);t;){if(t==o)return!0;t=t.parentNode||t.host}}function b(e){if(e.shadowRoot&&!e.shadowRoot.__watched){M.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)_(t),t=t.olderShadowRoot}}function _(e){e.__watched||(N(e),e.__watched=!0)}function w(e){if(M.dom){var t=e[0];if(t&&"childList"===t.type&&t.addedNodes&&t.addedNodes){for(var o=t.addedNodes[0];o&&o!==document&&!o.host;)o=o.parentNode;var n=o&&(o.URL||o._URL||o.host&&o.host.localName)||"";n=n.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",e.length,n||"")}e.forEach(function(e){"childList"===e.type&&(R(e.addedNodes,function(e){e.localName&&a(e)}),R(e.removedNodes,function(e){e.localName&&f(e)}))}),M.dom&&console.groupEnd()}function E(){w(k.takeRecords()),l()}function N(e){k.observe(e,{childList:!0,subtree:!0})}function y(e){N(e)}function L(e){M.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),a(e),M.dom&&console.groupEnd()}function O(e){e=v(e),L(e);for(var t,o=e.querySelectorAll("link[rel="+C+"]"),n=0,r=o.length;r>n&&(t=o[n]);n++)t["import"]&&t["import"].__parsed&&O(t["import"])}var M=window.logFlags||{},C=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none",D=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;e.hasPolyfillMutations=D;var S=!1,T=[],k=new MutationObserver(w),R=Array.prototype.forEach.call.bind(Array.prototype.forEach);e.IMPORT_LINK_TYPE=C,e.watchShadow=b,e.upgradeDocumentTree=O,e.upgradeAll=a,e.upgradeSubtree=i,e.insertedNode=d,e.observeDocument=y,e.upgradeDocument=L,e.takeRecords=E}(window.CustomElements),function(e){function t(e){return"link"===e.localName&&e.getAttribute("rel")===o}var o=e.IMPORT_LINK_TYPE,n={selectors:["link[rel="+o+"]"],map:{link:"parseLink"},parse:function(e){if(!e.__parsed){e.__parsed=!0;var t=e.querySelectorAll(n.selectors);r(t,function(e){n[n.map[e.localName]](e)}),CustomElements.upgradeDocument(e),CustomElements.observeDocument(e)}},parseLink:function(e){t(e)&&this.parseImport(e)},parseImport:function(e){e["import"]&&n.parse(e["import"])}},r=Array.prototype.forEach.call.bind(Array.prototype.forEach);e.parser=n,e.IMPORT_LINK_TYPE=o}(window.CustomElements),function(e){function t(){CustomElements.parser.parse(document),CustomElements.upgradeDocument(document);var e=window.Platform&&Platform.endOfMicrotask?Platform.endOfMicrotask:setTimeout;e(function(){CustomElements.ready=!0,CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0})),window.HTMLImports&&(HTMLImports.__importsParsingHook=function(e){CustomElements.parser.parse(e["import"])})})}if("function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t}),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var o=window.HTMLImports&&!HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(o,t)}else t()}(window.CustomElements),function(){function e(e){a(e),this.target=e,this.registeredListeners=[]}function t(t){return new e(t)}function o(e){return s(e.target)}function n(e,t){var o=e.addEventListener,n=e.removeEventListener;Object.defineProperties(e,{addEventListener:{enumerable:!0,value:function(e,o,n){t.registerListener(this.getAttribute("data-b-guid"),e,o,n)}},removeEventListener:{enumerable:!0,value:function(e,o,n){t.unregisterListener(this.getAttribute("data-b-guid"),e,o,n)}},__addEventListener__:{enumerable:!0,value:o},__removeEventListener__:{enumerable:!0,value:n}})}function r(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function i(){return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}function a(e){for(var t,o=e.childNodes.length,n=0;o>n;n++)t=e.childNodes[n],1!==t.nodeType||t.hasAttribute("data-b-guid")||t.setAttribute("data-b-guid",i()),t.childNodes.length>0&&a(t)}function s(e){for(var t,o=e.childNodes.length,n=0;o>n;n++)t=e.childNodes[n],1===t.nodeType&&t.hasAttribute("data-b-guid")&&t.removeAttribute("data-b-guid"),t.childNodes.length>0&&s(t);return e}function d(e,t){for(;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);var o=e.appendChild(document.createElement("div"));for(o.innerHTML=t;child=o.firstChild;)e.insertBefore(child,o);return e.removeChild(o),e}function u(e){var t=document.createElement("body");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function l(e){var o=document.createDocumentFragment();if(e)for(;child=e.firstChild;)o.appendChild(child);return t(o)}function c(e){var t=document.createDocumentFragment();return d(t,e),t}function h(e){return{content:c(e)}}function f(e,t){var o=e.target.cloneNode(!0),n=t.target.cloneNode(!0),r=o.querySelectorAll("content"),i=Array.prototype.forEach;return logFlags.dom&&console.log("found "+r.length+" insertion points"),i.call(r,function(e){var t=e.getAttribute("select")||"*";if("*"!==t){var o=n.querySelectorAll(t);i.call(o,function(t){e.parentNode.insertBefore(t,e)}),e.parentNode.removeChild(e)}else{for(;n.childNodes.length>0;)e.parentNode.insertBefore(n.childNodes[0],e);e.parentNode.removeChild(e)}}),o}function m(e){e.forEach(function(e){if("childList"===e.type){var t=e.target;logFlags.dom&&console.log("children change",t),t.childListChangedCallback&&t.childListChangedCallback(e.removedNodes,e.addedNodes)}},this)}logFlags.dom&&!console.group&&(console.group=console.log,console.groupCollapsed=console.groupEnd=function(){});var p=["addEventListener","compareDocumentPosition","dispatchEvent","hasChildNodes","isDefaultNamespace","isEqualNode","lookupNamespaceURI","lookupPrefix","normalize","querySelectorAll","removeEventListener"],v=["appendChild","insertBefore","removeChild","replaceChild"],g=["childNodes","firstChild","lastChild","localName","namespaceURI","nextSibling","nodeName","nodeType","nodeValue","ownerDocument","parentNode","prefix","previousSibling","textContent"],b={innerHTML:{enumerable:!0,set:function(e){d(this.target,e),this.onUpdate()},get:function(){return u(this.target)}},onUpdate:{enumerable:!1,configurable:!1,writable:!1,value:function(){a(this.target),this.target.dispatchEvent(new CustomEvent("update"))}},cloneNode:{enumerable:!0,value:function(e){var o=this.target.cloneNode(e);return t(o)}},unwrap:{enumerable:!0,value:function(){return o(this)}},querySelector:{enumerable:!0,configurable:!1,writable:!1,value:function(e){var t=this.target.querySelector(e);return t&&n(t,this),t}},registerListener:{enumerable:!1,configurable:!1,writable:!1,value:function(e,t,o,n){var r={guid:e,type:t,listener:o,useCapture:n};this.registeredListeners.push(r),this.target.dispatchEvent(new CustomEvent("addListener",{detail:r}))}},unregisterListener:{enumerable:!1,configurable:!1,writable:!1,value:function(e,t,o,n){var r;this.registeredListeners.forEach(function(n,i){n.guid===e&&n.type===t&&n.listener===o&&(r=n,this.registeredListeners.splice(i,1))},this),r&&this.target.dispatchEvent(new CustomEvent("removeListener",{detail:r}))}}};if(v.forEach(function(e){b[e]={enumerable:!0,configurable:!1,writable:!1,value:function(){var t=this.target[e].apply(this.target,arguments);return this.onUpdate(),t}}}),p.forEach(function(e){b[e]={enumerable:!0,configurable:!1,writable:!1,value:function(){return this.target[e].apply(this.target,arguments)}}}),g.forEach(function(e){b[e]={enumerable:!0,configurable:!1,get:function(){return this.target[e]}}}),Object.defineProperties(e.prototype,b),HTMLElement.prototype.webkitCreateShadowRoot||HTMLElement.prototype.createShadowRoot){Platform.nativeShadowDOM=!0,logFlags.dom&&console.log("Native Shadow DOM detected");var _=Element.prototype.webkitCreateShadowRoot;Element.prototype.webkitCreateShadowRoot=function(){var e=this.webkitShadowRoot,t=_.call(this);return t.olderShadowRoot=e,t.host=this,t},Object.defineProperties(Element.prototype,{shadowRoot:{get:function(){return this.webkitShadowRoot}},createShadowRoot:{value:function(){return this.webkitCreateShadowRoot()}}})}else Platform.nativeShadowDOM=!1,logFlags.dom&&console.log("No native Shadow DOM ; polyfilling "+name+" element"),Object.defineProperties(Element.prototype,{shadowRoot:{get:function(){return this.__shadowRoots__&&0!==this.__shadowRoots__.length?this.__shadowRoots__[0]:void 0}},lightDOM:{get:function(){return this.__lightDOM__}},createShadowRoot:{value:function(){var e=this;this.__shadowRoots__||(this.__shadowRoots__=[]),this.__lightDOM__||(this.__lightDOM__=l(this),this.lightDOM.addEventListener("update",function(t){logFlags.dom&&console.log("lightDOM updated"),e.refreshComposedDOM(t)}),this.lightDOM.addEventListener("addListener",function(t){logFlags.dom&&console.log("listener attached to a lightDOM node"),e.attachListener(t.detail)}),!Platform.test);var t=l();return t.addEventListener("update",function(t){logFlags.dom&&console.log("shadowDOM updated"),e.refreshComposedDOM(t)}),t.addEventListener("addListener",function(t){logFlags.dom&&console.log("listener attached to a shadowDOM node"),e.attachListener(t.detail)}),this.__shadowRoots__.push(t),t}},refreshComposedDOM:{value:function(e){logFlags.dom&&console.log("refreshing composed DOM");for(var t=f(this.shadowRoot,this.__lightDOM__);this.childNodes.length>0;)this.removeChild(this.childNodes[0]);this.appendChild(t),this.shadowRoot.registeredListeners&&this.shadowRoot.registeredListeners.forEach(function(e){this.attachListener(e)},this),this.lightDOM.registeredListeners&&this.lightDOM.registeredListeners.forEach(function(e){this.attachListener(e)},this)}},attachListener:{value:function(e){var t=this.querySelector("[data-b-guid='"+e.guid+"']");t.addEventListener(e.type,e.listener,e.useCapture)}}});var w=new MutationObserver(m.bind(this));window.addEventListener("WebComponentsReady",function(){w.observe(document,{childList:!0,subtree:!0})}),Platform.test&&(window.DocumentFragmentWrapper=e,window.Bosonic={createDocumentFragment:l,createTemplateElement:h,createFragmentFromHTML:c,getHTMLFromFragment:u,removeNodeIDs:s,renderComposedDOM:f})}();
